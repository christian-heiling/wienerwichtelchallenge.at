var cf7msm_ss;function cf7msm_uniqueArray(e,t){for(var n={},s=[],r=2;r--;e=t)e.map((function(e){n[e]=n[e]||s.push(e)}));return s}function cf7msm_hasSS(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(e){return!1}}function quoteattr(e,t){return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)}function escapeattr(e){return(""+e).replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\u00A0/g,"\\u00A0").replace(/&/g,"\\x26").replace(/'/g,"\\x27").replace(/"/g,"\\x22").replace(/</g,"\\x3C").replace(/>/g,"\\x3E")}jQuery(document).ready((function(e){var t=cf7msm_posted_data,n=e("input[name='_cf7msm_multistep_tag']"),s=n.length>0;if(s||(s=(n=e("input[name='cf7msm-step']")).length>0),s){var r=n.closest("form"),i=r.find('input[name="_wpcf7"]').val();cf7msm_hasSS()?null!=(cf7msm_ss=sessionStorage.getObject("cf7msm"))&&e.each(cf7msm_ss,(function(e,t){if("cf7msm_prev_urls"==e){var n=r.find(".wpcf7-back, .wpcf7-previous"),s=window.location.href,i=s.replace(/\/$/,""),c=!t.hasOwnProperty(s)||""==t[s];c&&(c=!t.hasOwnProperty(i)||""==t[i]),c?n.hide():n.click((function(e){t.hasOwnProperty(s)&&""!=t[s]?window.location.href=t[s]:t.hasOwnProperty(i)&&""!=t[i]?window.location.href=t[i]:window.history.go(-1),e.preventDefault()}))}})):(e("input[name='cf7msm-no-ss']").val(1),e(".wpcf7-previous").hide()),t&&e.each(t,(function(t,n){if(t.indexOf("[]")===t.length-2&&(t=t.substring(0,t.length-2)),(0!=t.indexOf("_")||0==t.indexOf("_wpcf7_radio_free_text_")||0==t.indexOf("_wpcf7_checkbox_free_text_"))&&"cf7msm-step"!=t&&"cf7msm_options"!=t){var s=r.find('*[name="'+t+'"]:not([data-cf7msm-previous])'),i=r.find('input[name="'+t+'[]"]:not([data-cf7msm-previous])'),c=r.find('select[name="'+t+'[]"]:not([data-cf7msm-previous])');s.length>0?"radio"==s.prop("type")||"checkbox"==s.prop("type")?s.filter((function(){return e(this).val()==n})).prop("checked",!0):s.is("select")?s.find("option").filter((function(){return this.value==n})).attr("selected","selected"):s.val(n):i.length>0&&n.constructor===Array?""!=n&&n.length>0&&e.each(n,(function(t,n){i.filter((function(){return e(this).val()==n})).prop("checked",!0)})):c.length>0&&n.constructor===Array&&""!=n&&n.length>0&&e.each(n,(function(e,t){c.find("option").filter((function(){return this.value==t})).attr("selected","selected")}))}}));var c=wpcf7.submit;wpcf7.submit=function(t){!function(t){!function(t){var n=t.find("input[name='_cf7msm_multistep_tag']");if(0==n.length)return;n.length>1&&(n=n.last());e("<input />",{type:"hidden",name:"cf7msm_options",value:n.val()}).appendTo(t)}(t)}(t),c(t)},document.addEventListener("wpcf7mailsent",(function(t){if(cf7msm_hasSS()){var n=0,s=0,r=[],c={};(cf7msm_ss=sessionStorage.getObject("cf7msm"))||(cf7msm_ss={});var a=!1,o=!1,f=!0,m=!1,p=null,u=!1;if(e.each(t.detail.inputs,(function(l){var d=t.detail.inputs[l].name,_=t.detail.inputs[l].value;if(d.indexOf("[]")===d.length-2?(-1===e.inArray(d,r)&&(c[d]=[]),c[d].push(_)):c[d]=_,"cf7msm-step"===d){if(-1!==_.indexOf("-")){a=!0,o=!1;var h=_.split("-");n=parseInt(h[0]),s=parseInt(h[1]),void 0!==cf7msm_redirect_urls[i]&&(p=cf7msm_redirect_urls[i]),n<s?f=!1:n===s&&(m=!0)}}else if("cf7msm_options"===d){a=!0,o=!0,f=!1;var g=JSON.parse(_);g.hasOwnProperty("next_url")&&(p=g.next_url),g.hasOwnProperty("last_step")&&(u=!0,p&&""!==p||(m=!0,f=!0))}else r.push(d)})),!a)return;if(!f){var l=e("#"+t.detail.unitTag).find("div.wpcf7-mail-sent-ok");0==l.length&&(l=e("#"+t.detail.unitTag).find(".wpcf7-response-output")),l.remove()}if(m){var d=e("#"+t.detail.unitTag+" form");d.find("*").not("div.wpcf7-response-output").hide(),d.find("div.wpcf7-response-output").parentsUntil("form").show()}if(o?u&&(cf7msm_ss={}):0!=n&&n===s&&(cf7msm_ss={}),p&&""!=p){var _={};cf7msm_ss&&cf7msm_ss.cf7msm_prev_urls&&(_=cf7msm_ss.cf7msm_prev_urls);var h=window.location.protocol+"//"+window.location.host;0!==p.indexOf(h)&&(0!==p.indexOf("/")&&(h+="/"),p=h+p),_[p]=window.location.href,cf7msm_ss.cf7msm_prev_urls=_}sessionStorage.setObject("cf7msm",cf7msm_ss),p&&""!=p&&(window.location.href=p)}}),!1)}})),Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)};